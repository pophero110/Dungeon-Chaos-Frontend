<div
  *ngIf="
    playerIdentityKeyAndDifficulty | async as playerIdentityKeyAndDifficulty
  "
  style="text-align: center; margin-bottom: 12px"
>
  <span style="margin-right: 24px; background-color: whitesmoke; padding: 4px"
    >Your Identity Key: {{ playerIdentityKeyAndDifficulty.identityKey }}</span
  >
  <span style="background-color: whitesmoke; padding: 4px"
    >Current Difficulty: {{ playerIdentityKeyAndDifficulty.difficulty }}</span
  >
</div>
<div class="board">
  <ng-container *ngIf="currentPlayerPosition$ | async as currentPlayerPosition">
    <ng-container *ngIf="playerCharacterName$ | async as playerCharacterName">
      <div
        class="board__tile"
        *ngFor="
          let tileType of board$ | async | flattenTiles;
          let position = index;
          trackBy: trackByPositionAndTileType
        "
      >
        <app-tile
          [tileType]="tileType"
          [position]="position"
          [currentPlayerPosition]="currentPlayerPosition"
          [playerCharacterName]="playerCharacterName"
          [onTileClick]="onTileClick"
          [playerId]="playerId$ | async"
          [clickSound]="clickSound"
        ></app-tile>
      </div>
    </ng-container>
  </ng-container>
</div>
